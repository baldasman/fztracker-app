{"version":3,"sources":["./src/app/tab4/tab4.page.html","./src/app/tab4/tab4.module.ts","./src/app/tab4/tab4.page.scss","./src/app/tab4/tab4.page.ts"],"names":[],"mappings":"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","file":"tab4-tab4-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title class=\\\"title\\\">\\r\\n      Corpo de Fuzileiros\\r\\n      <ion-icon [ngClass]=\\\"{'connected': this.connected, 'disconnected': !this.connected}\\\" name=\\\"cloud-circle\\\" id=\\\"onOff\\\"></ion-icon>\\r\\n    </ion-title>\\r\\n    \\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"face\\\">\\r\\n  <ion-card class=\\\"face\\\">\\r\\n    <ion-card-title class=\\\"pad\\\" style=\\\"text-align: center;\\\">Aproxime o cartão ou insira codigo</ion-card-title>\\r\\n\\r\\n    <ion-item style=\\\"padding-bottom: 5px;\\\">\\r\\n      <ion-label class=\\\"ion-text-center\\\" color=\\\"{{color}}\\\">{{ cardInfo }}</ion-label>\\r\\n      <ion-icon item-end name=\\\"search\\\" (click)=\\\"searchCardByNumber()\\\" color=\\\"primary\\\"></ion-icon>\\r\\n    </ion-item>\\r\\n\\r\\n    <img [src]=\\\"photo\\\" alt=\\\"Sem imagem\\\" id=\\\"pic\\\" class=\\\"center\\\" onerror=\\\"this.src='/assets/default.jpg';\\\" />\\r\\n    <!-- <img [src]=\\\"photo\\\" alt=\\\"Sem imagem\\\" id=\\\"pic\\\" class=\\\"center\\\" onerror=\\\"this.src='http://localhost:8100/assets/default.jpg';\\\">\\r\\n     -->\\r\\n\\r\\n    <ion-grid>\\r\\n      <ion-row>\\r\\n        <ion-col>\\r\\n          <ion-card-content style=\\\"padding: 0px;\\\">\\r\\n            <p id=\\\"polo\\\" style=\\\"text-align: center;\\\"><b>\\r\\n                <h1>{{ rankName }} </h1>\\r\\n              </b></p>\\r\\n            <!-- {{ gdh }}-->\\r\\n          </ion-card-content>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row>\\r\\n        <ion-col>\\r\\n          <ion-card-content style=\\\"padding: 0px;\\\">\\r\\n            <ion-list>\\r\\n              <ion-item>\\r\\n                <ion-label>VIATURA</ion-label>\\r\\n                <ion-select [value]=\\\"selectedResource\\\" interface=\\\"action-sheet\\\">\\r\\n                  <ion-select-option *ngFor=\\\"let resource of resources\\\" [value]=\\\"resource.serial\\\">{{ resource.serial }}\\r\\n                  </ion-select-option>\\r\\n                  <ion-select-option value=\\\"NOCAR\\\">Sem Viatura</ion-select-option>\\r\\n                </ion-select>\\r\\n              </ion-item>\\r\\n            </ion-list>\\r\\n          </ion-card-content>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n    </ion-grid>\\r\\n  </ion-card>\\r\\n\\r\\n\\r\\n  <ion-card class=\\\"add\\\">\\r\\n\\r\\n    <ion-card-header class=\\\"add\\\" style=\\\"padding: 0px;\\\">\\r\\n      <div class=\\\"add\\\">Adicionar </div>\\r\\n\\r\\n    </ion-card-header>\\r\\n    <ion-card-content class=\\\"add\\\">\\r\\n\\r\\n      <ion-grid class=\\\"add\\\">\\r\\n        <ion-row>\\r\\n          <ion-col>\\r\\n            <div class=\\\"ion-text-start\\\">\\r\\n              <label>{{AddComponent}}</label>\\r\\n            </div>\\r\\n          </ion-col>\\r\\n          <ion-col>\\r\\n            <div class=\\\"ion-text-end\\\">\\r\\n              <ion-button shape=\\\"round\\\" color=\\\"success\\\" (click)=\\\"openModal()\\\">+</ion-button>\\r\\n            </div>\\r\\n          </ion-col>\\r\\n\\r\\n        </ion-row>\\r\\n      </ion-grid>\\r\\n\\r\\n      <!--                   <ion-button (click)=\\\"logAccess('1')\\\" color=\\\"success\\\" style=\\\"align-items: center\\\">viatura</ion-button>\\r\\n              <ion-button color=\\\"success\\\" style=\\\"align-items: center\\\">visita</ion-button> -->\\r\\n\\r\\n    </ion-card-content>\\r\\n  </ion-card>\\r\\n\\r\\n  <div class=\\\"send\\\" style=\\\"text-align: center;\\\">\\r\\n    <ion-button shape=\\\"round\\\" expand=\\\"full\\\" color=\\\"primary\\\" (click)=\\\"logAccess()\\\">Validar entrada </ion-button>\\r\\n  </div>\\r\\n</ion-content>\"","import { IonicModule } from '@ionic/angular';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Tab4Page } from './tab4.page';\r\n\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { DepositModalComponent } from '../deposit-modal/deposit-modal.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    IonicModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    HttpClientModule,\r\n    RouterModule.forChild([{ path: '', component: Tab4Page }])\r\n  ],\r\n  declarations: [Tab4Page, DepositModalComponent],\r\n  entryComponents:[DepositModalComponent]\r\n})\r\nexport class Tab4PageModule {}","module.exports = \".center {\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n  width: 50%;\\n}\\n\\n.face {\\n  margin-top: 5px;\\n  background-color: #f3fff3;\\n}\\n\\n.pad {\\n  padding-bottom: 0px;\\n  font-size: 20px;\\n}\\n\\n.title {\\n  font-size: 35px;\\n  padding-left: 0px;\\n  padding-right: 0px;\\n}\\n\\n.add {\\n  text-align: center;\\n  font-size: 30px;\\n}\\n\\n.ion-grid {\\n  padding-top: 0px;\\n}\\n\\n.title {\\n  text-align: center;\\n}\\n\\n.disconnected {\\n  color: red;\\n  text-align: right;\\n  width: 0.7em;\\n  height: 0.7em;\\n}\\n\\n.connected {\\n  color: green;\\n  text-align: right;\\n  width: 0.7em;\\n  height: 0.7em;\\n}\\n\\n.centro {\\n  text-align: right;\\n  margin-bottom: -30px;\\n}\\n\\n.add {\\n  padding-top: 0px;\\n  margin-top: 0px;\\n  padding-bottom: 0px;\\n}\\n\\n.send {\\n  padding-left: 10%;\\n  padding-right: 10%;\\n}\\n\\n/* Set the width to the full container and center the content */\\n\\nion-select {\\n  width: 100%;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n}\\n\\n/* Set the flex in order to size the text width to its content */\\n\\nion-select::part(placeholder),\\nion-select::part(text) {\\n  -webkit-box-flex: 0;\\n          flex: 0 0 auto;\\n}\\n\\n/* Set the placeholder color and opacity */\\n\\nion-select::part(placeholder) {\\n  color: #20a08a;\\n  opacity: 1;\\n}\\n\\n/*\\n * Set the font of the first letter of the placeholder\\n * Shadow parts work with pseudo-elements, too!\\n * https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-elements\\n */\\n\\nion-select::part(placeholder)::first-letter {\\n  font-size: 20px;\\n  font-weight: 500;\\n}\\n\\n/* Set the text color */\\n\\nion-select::part(text) {\\n  color: #545ca7;\\n}\\n\\n/* Set the icon color and opacity */\\n\\nion-select::part(icon) {\\n  color: #971e49;\\n  opacity: 1;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFiNC9DOlxcVXNlcnNcXFNweVxcRG9jdW1lbnRzXFxHaXRIdWJcXGZ6dHJhY2tlci1hcHAvc3JjXFxhcHBcXHRhYjRcXHRhYjQucGFnZS5zY3NzIiwic3JjL2FwcC90YWI0L3RhYjQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsY0FBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0FDQ0Y7O0FEQ0E7RUFDRSxlQUFBO0VBQ0EseUJBQUE7QUNFRjs7QURDQTtFQUNFLG1CQUFBO0VBQ0EsZUFBQTtBQ0VGOztBREVBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUNDQTs7QURHQTtFQUVFLGtCQUFBO0VBQ0EsZUFBQTtBQ0RGOztBREtBO0VBQ0UsZ0JBQUE7QUNGRjs7QURLQTtFQUNFLGtCQUFBO0FDRkY7O0FETUE7RUFDRSxVQUFBO0VBQ0EsaUJBQUE7RUFFQSxZQUFBO0VBQ0EsYUFBQTtBQ0pGOztBRE9BO0VBQ0UsWUFBQTtFQUNBLGlCQUFBO0VBRUEsWUFBQTtFQUNBLGFBQUE7QUNMRjs7QURRQTtFQUNFLGlCQUFBO0VBQ0Esb0JBQUE7QUNMRjs7QURRQTtFQUNFLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLG1CQUFBO0FDTEY7O0FEU0E7RUFDRSxpQkFBQTtFQUNBLGtCQUFBO0FDTkY7O0FEU0EsK0RBQUE7O0FBQ0E7RUFDRSxXQUFBO0VBQ0Esd0JBQUE7VUFBQSx1QkFBQTtBQ05GOztBRFNBLGdFQUFBOztBQUNBOztFQUVFLG1CQUFBO1VBQUEsY0FBQTtBQ05GOztBRFNBLDBDQUFBOztBQUNBO0VBQ0UsY0FBQTtFQUNBLFVBQUE7QUNORjs7QURTQTs7OztFQUFBOztBQUtBO0VBQ0UsZUFBQTtFQUNBLGdCQUFBO0FDTkY7O0FEU0EsdUJBQUE7O0FBQ0E7RUFDRSxjQUFBO0FDTkY7O0FEU0EsbUNBQUE7O0FBQ0E7RUFDRSxjQUFBO0VBQ0EsVUFBQTtBQ05GIiwiZmlsZSI6InNyYy9hcHAvdGFiNC90YWI0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jZW50ZXIge1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gIG1hcmdpbi1yaWdodDogYXV0bztcclxuICB3aWR0aDogNTAlO1xyXG59O1xyXG4uZmFjZSB7XHJcbiAgbWFyZ2luLXRvcDogNXB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYigyNDMsIDI1NSwgMjQzKTtcclxufVxyXG4gXHJcbi5wYWQge1xyXG4gIHBhZGRpbmctYm90dG9tOiAwcHg7XHJcbiAgZm9udC1zaXplOjIwcHg7XHJcbiBcclxufTtcclxuXHJcbi50aXRsZSB7XHJcbmZvbnQtc2l6ZTozNXB4O1xyXG5wYWRkaW5nLWxlZnQ6IDBweDtcclxucGFkZGluZy1yaWdodDogMHB4O1xyXG5cclxufTtcclxuXHJcbi5hZGR7XHJcbiAgXHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGZvbnQtc2l6ZTogMzBweDtcclxuXHJcbn07XHJcblxyXG4uaW9uLWdyaWQge1xyXG4gIHBhZGRpbmctdG9wOiAwcHg7XHJcbn07XHJcblxyXG4udGl0bGV7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG5cclxufTtcclxuXHJcbi5kaXNjb25uZWN0ZWQgeyBcclxuICBjb2xvcjpyZWQ7XHJcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XHJcblxyXG4gIHdpZHRoOiAwLjdlbTtcclxuICBoZWlnaHQ6IDAuN2VtO1xyXG59O1xyXG5cclxuLmNvbm5lY3RlZCB7XHJcbiAgY29sb3I6Z3JlZW47XHJcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XHJcbiAgXHJcbiAgd2lkdGg6IDAuN2VtO1xyXG4gIGhlaWdodDogMC43ZW07XHJcbn07XHJcblxyXG4uY2VudHJvIHtcclxuICB0ZXh0LWFsaWduOiByaWdodDtcclxuICBtYXJnaW4tYm90dG9tOiAtMzBweDtcclxufTtcclxuXHJcbi5hZGR7XHJcbiAgcGFkZGluZy10b3A6IDBweDtcclxuICBtYXJnaW4tdG9wOiAwcHg7XHJcbiAgcGFkZGluZy1ib3R0b206IDBweDtcclxuICBcclxufTtcclxuXHJcbi5zZW5ke1xyXG4gIHBhZGRpbmctbGVmdDogMTAlO1xyXG4gIHBhZGRpbmctcmlnaHQ6IDEwJTtcclxufVxyXG5cclxuLyogU2V0IHRoZSB3aWR0aCB0byB0aGUgZnVsbCBjb250YWluZXIgYW5kIGNlbnRlciB0aGUgY29udGVudCAqL1xyXG5pb24tc2VsZWN0IHtcclxuICB3aWR0aDogMTAwJTtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG5cclxuLyogU2V0IHRoZSBmbGV4IGluIG9yZGVyIHRvIHNpemUgdGhlIHRleHQgd2lkdGggdG8gaXRzIGNvbnRlbnQgKi9cclxuaW9uLXNlbGVjdDo6cGFydChwbGFjZWhvbGRlciksXHJcbmlvbi1zZWxlY3Q6OnBhcnQodGV4dCkge1xyXG4gIGZsZXg6IDAgMCBhdXRvO1xyXG59XHJcblxyXG4vKiBTZXQgdGhlIHBsYWNlaG9sZGVyIGNvbG9yIGFuZCBvcGFjaXR5ICovXHJcbmlvbi1zZWxlY3Q6OnBhcnQocGxhY2Vob2xkZXIpIHtcclxuICBjb2xvcjogIzIwYTA4YTtcclxuICBvcGFjaXR5OiAxO1xyXG59XHJcblxyXG4vKlxyXG4gKiBTZXQgdGhlIGZvbnQgb2YgdGhlIGZpcnN0IGxldHRlciBvZiB0aGUgcGxhY2Vob2xkZXJcclxuICogU2hhZG93IHBhcnRzIHdvcmsgd2l0aCBwc2V1ZG8tZWxlbWVudHMsIHRvbyFcclxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL1BzZXVkby1lbGVtZW50c1xyXG4gKi9cclxuaW9uLXNlbGVjdDo6cGFydChwbGFjZWhvbGRlcik6OmZpcnN0LWxldHRlciB7XHJcbiAgZm9udC1zaXplOiAyMHB4O1xyXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbn1cclxuXHJcbi8qIFNldCB0aGUgdGV4dCBjb2xvciAqL1xyXG5pb24tc2VsZWN0OjpwYXJ0KHRleHQpIHtcclxuICBjb2xvcjogIzU0NWNhNztcclxufVxyXG5cclxuLyogU2V0IHRoZSBpY29uIGNvbG9yIGFuZCBvcGFjaXR5ICovXHJcbmlvbi1zZWxlY3Q6OnBhcnQoaWNvbikge1xyXG4gIGNvbG9yOiAjOTcxZTQ5O1xyXG4gIG9wYWNpdHk6IDE7XHJcbn0iLCIuY2VudGVyIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICBtYXJnaW4tcmlnaHQ6IGF1dG87XG4gIHdpZHRoOiA1MCU7XG59XG5cbi5mYWNlIHtcbiAgbWFyZ2luLXRvcDogNXB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjNmZmYzO1xufVxuXG4ucGFkIHtcbiAgcGFkZGluZy1ib3R0b206IDBweDtcbiAgZm9udC1zaXplOiAyMHB4O1xufVxuXG4udGl0bGUge1xuICBmb250LXNpemU6IDM1cHg7XG4gIHBhZGRpbmctbGVmdDogMHB4O1xuICBwYWRkaW5nLXJpZ2h0OiAwcHg7XG59XG5cbi5hZGQge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGZvbnQtc2l6ZTogMzBweDtcbn1cblxuLmlvbi1ncmlkIHtcbiAgcGFkZGluZy10b3A6IDBweDtcbn1cblxuLnRpdGxlIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4uZGlzY29ubmVjdGVkIHtcbiAgY29sb3I6IHJlZDtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIHdpZHRoOiAwLjdlbTtcbiAgaGVpZ2h0OiAwLjdlbTtcbn1cblxuLmNvbm5lY3RlZCB7XG4gIGNvbG9yOiBncmVlbjtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIHdpZHRoOiAwLjdlbTtcbiAgaGVpZ2h0OiAwLjdlbTtcbn1cblxuLmNlbnRybyB7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuICBtYXJnaW4tYm90dG9tOiAtMzBweDtcbn1cblxuLmFkZCB7XG4gIHBhZGRpbmctdG9wOiAwcHg7XG4gIG1hcmdpbi10b3A6IDBweDtcbiAgcGFkZGluZy1ib3R0b206IDBweDtcbn1cblxuLnNlbmQge1xuICBwYWRkaW5nLWxlZnQ6IDEwJTtcbiAgcGFkZGluZy1yaWdodDogMTAlO1xufVxuXG4vKiBTZXQgdGhlIHdpZHRoIHRvIHRoZSBmdWxsIGNvbnRhaW5lciBhbmQgY2VudGVyIHRoZSBjb250ZW50ICovXG5pb24tc2VsZWN0IHtcbiAgd2lkdGg6IDEwMCU7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG4vKiBTZXQgdGhlIGZsZXggaW4gb3JkZXIgdG8gc2l6ZSB0aGUgdGV4dCB3aWR0aCB0byBpdHMgY29udGVudCAqL1xuaW9uLXNlbGVjdDo6cGFydChwbGFjZWhvbGRlciksXG5pb24tc2VsZWN0OjpwYXJ0KHRleHQpIHtcbiAgZmxleDogMCAwIGF1dG87XG59XG5cbi8qIFNldCB0aGUgcGxhY2Vob2xkZXIgY29sb3IgYW5kIG9wYWNpdHkgKi9cbmlvbi1zZWxlY3Q6OnBhcnQocGxhY2Vob2xkZXIpIHtcbiAgY29sb3I6ICMyMGEwOGE7XG4gIG9wYWNpdHk6IDE7XG59XG5cbi8qXG4gKiBTZXQgdGhlIGZvbnQgb2YgdGhlIGZpcnN0IGxldHRlciBvZiB0aGUgcGxhY2Vob2xkZXJcbiAqIFNoYWRvdyBwYXJ0cyB3b3JrIHdpdGggcHNldWRvLWVsZW1lbnRzLCB0b28hXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvUHNldWRvLWVsZW1lbnRzXG4gKi9cbmlvbi1zZWxlY3Q6OnBhcnQocGxhY2Vob2xkZXIpOjpmaXJzdC1sZXR0ZXIge1xuICBmb250LXNpemU6IDIwcHg7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG5cbi8qIFNldCB0aGUgdGV4dCBjb2xvciAqL1xuaW9uLXNlbGVjdDo6cGFydCh0ZXh0KSB7XG4gIGNvbG9yOiAjNTQ1Y2E3O1xufVxuXG4vKiBTZXQgdGhlIGljb24gY29sb3IgYW5kIG9wYWNpdHkgKi9cbmlvbi1zZWxlY3Q6OnBhcnQoaWNvbikge1xuICBjb2xvcjogIzk3MWU0OTtcbiAgb3BhY2l0eTogMTtcbn0iXX0= */\"","import { ChangeDetectorRef, Component } from '@angular/core';\r\nimport { NativeStorage } from '@ionic-native/native-storage/ngx';\r\nimport { Ndef, NFC } from '@ionic-native/nfc/ngx';\r\nimport { AlertController, ModalController } from '@ionic/angular';\r\nimport * as moment from 'moment';\r\nimport { environment } from 'src/environments/environment';\r\nimport { DepositModalComponent } from '../deposit-modal/deposit-modal.component';\r\nimport { EntityMovementModel } from '../models/entity-movement.model';\r\nimport { ApiService } from '../services/api.service';\r\n\r\n@Component({\r\n  selector: 'app-tab4',\r\n  templateUrl: 'tab4.page.html',\r\n  styleUrls: ['tab4.page.scss']\r\n})\r\nexport class Tab4Page {\r\n  connected: boolean = false;\r\n  cardNumber: string = null;\r\n  cardId: string = null;\r\n  serial: string = null;\r\n  photo: string = \"/assets/default.jpg\";\r\n  rankName: string = \"Posto e Nome\";\r\n  polo: string = \"Polo\";\r\n  gdh: string = \"---\";\r\n  cardInfo: string = \"Numero Cartão\";\r\n  color: string = \"\"\r\n  resources = [];\r\n  selectedResource: string = 'NOCAR';\r\n  cardcontrol: string;\r\n  private statusTimer = null;\r\n\r\n  constructor(\r\n    public alertCtrl: AlertController,\r\n    private nfc: NFC,\r\n    private ndef: Ndef,\r\n    private changeRef: ChangeDetectorRef,\r\n    private nativeStorage: NativeStorage,\r\n    private modalCtrl: ModalController,\r\n    private apiService: ApiService\r\n  ) {\r\n    this.connected = apiService.connected;\r\n\r\n    this.statusTimer = setInterval(() => {\r\n      this.connected = apiService.connected;\r\n      console.log('update status icon', this.connected);\r\n      this.changeRef.detectChanges();\r\n    }, 5000);\r\n\r\n    this.nfc.addNdefListener(() => {\r\n      console.log('successfully attached ndef listener');\r\n    }, (err) => {\r\n      console.log('error attaching ndef listener', err);\r\n    }).subscribe((event) => {\r\n      console.log('received ndef message. the tag contains: ', event.tag);\r\n\r\n\r\n      // Search card by id\r\n      this.cardId = this.nfc.bytesToHexString(event.tag.id);\r\n      this.serial =null;\r\n      this.cardNumber = null;\r\n      //  this.cardId = '0412FD1AE66C81';\r\n      console.log('nfc', this.cardId);\r\n      this.searchCard();\r\n    });\r\n  }\r\n\r\n  //open modal add viatura\r\n  async openModal() {\r\n    const modal = await this.modalCtrl.create({\r\n      component: DepositModalComponent,\r\n    });\r\n\r\n    await modal.present();\r\n\r\n    const { data } = await modal.onWillDismiss();\r\n\r\n    if (data && data.plate) {\r\n      const newPlate = data.plate.replace(/-/g, '');\r\n      this.resources.push({ serial: newPlate });\r\n      this.selectedResource = newPlate;\r\n    }\r\n  }\r\n\r\n  //adicionar movimento à base de dados \r\n  AddMovement() {\r\n    this.logAccess();\r\n  }\r\n\r\n  async searchCardByNumber() {\r\n    this.cardNumber = \"0\";\r\n    this.cardId = null;\r\n    this.color = \"\";\r\n\r\n\r\n    const prompt = await this.alertCtrl.create({\r\n      header: 'Número do Cartão',\r\n      message: 'Introduz o número do cartão',\r\n      inputs: [\r\n        {\r\n          name: 'cardnumber',\r\n          type: 'text',\r\n          placeholder: 'exemplo M0023'\r\n        },\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: 'Cancelar',\r\n          handler: data => {\r\n          }\r\n        },\r\n\r\n        {\r\n          text: 'Pesquisar',\r\n          handler: data => {\r\n\r\n            const x: string = data.cardnumber;\r\n\r\n            if (x.toLowerCase().startsWith(\"m\") || x.toLowerCase().startsWith(\"a\") || x.toLowerCase().startsWith(\"c\") || x.toLowerCase().startsWith(\"v\")) {\r\n\r\n              console.log(\"cartao\");\r\n              this.cardcontrol = data.cardnumber;\r\n              this.cardNumber = data.cardnumber;\r\n              this.serial = null;\r\n            } else {\r\n              this.serial = data.cardnumber; //todo uma ou outra\r\n              this.cardcontrol = null;\r\n              this.cardNumber = null;\r\n            }\r\n\r\n            /*   if (data.cardnumber.length != 5) {\r\n  \r\n  \r\n                this.cardInfo = \"Número inválido!\";\r\n                this.color = \"danger\";\r\n                this.cardNumber = null;\r\n                this.cardId = null;\r\n                return;\r\n              } */\r\n\r\n\r\n            // Call API\r\n            this.searchCard();\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await prompt.present();\r\n  }\r\n\r\n  private searchCard() {\r\n    // Call API\r\n    const cardInfoResponse = this.apiService.getCardInfo(this.cardNumber, this.cardId, this.serial);\r\n    cardInfoResponse.subscribe(response => {\r\n      const rawData: any = response;\r\n      const entity = rawData.data.entities[0];\r\n\r\n      if (this.cardcontrol != entity.cardNumber) {\r\n        this.cardInfo = \"Número inválido!\";\r\n        this.color = \"danger\";\r\n        //  this.cardNumber = null;\r\n        //    this.cardId = null;\r\n\r\n        this.changeRef.detectChanges();\r\n        return;\r\n      }\r\n\r\n      console.log(rawData.data.entities[0]);\r\n\r\n\r\n\r\n      console.log('a entidade' + entity);\r\n      this.cardInfo = entity.cardNumber;\r\n\r\n      this.cardId = entity.cardId;\r\n      this.color = '';\r\n      this.photo = `${this.apiService.getApi()}/assets/userPhotos/${entity.serial}.bmp`;\r\n      this.rankName = `${entity.name}`;\r\n\r\n      //this.polo = entity.location;\r\n\r\n      // Load plates\r\n      if (entity.resources) {\r\n        this.resources = entity.resources.map(r => { return { serial: r.serial.replace(/-/g, '') } });\r\n\r\n        if (this.resources.length > 0) {\r\n          this.selectedResource = this.resources[0].serial;\r\n        } else {\r\n          this.selectedResource = 'NOCAR';\r\n        }\r\n      }\r\n\r\n      this.changeRef.detectChanges();\r\n    }, error => {\r\n      this.cardInfo = \"Número inválido!\";\r\n      this.color = \"danger\";\r\n      this.cardNumber = null;\r\n      this.cardId = null;\r\n\r\n      this.changeRef.detectChanges();\r\n    });\r\n  }\r\n\r\n  private logAccess() {\r\n    const movement = new EntityMovementModel();\r\n    movement.location = this.apiService.getLocation();\r\n    movement.manual = true;\r\n    movement.cardNumber = this.cardNumber;\r\n    movement.inOut = true;\r\n    movement.sensor = this.apiService.getSensorId();\r\n    movement.cardId = this.cardId;\r\n    movement.plate = this.selectedResource;\r\n\r\n    const card = this.apiService.addMovement(movement);\r\n    card.subscribe(response => {\r\n      const data: any = response['data'];\r\n      this.gdh = `${data.movement.inOut ? \"Entrada\" : \"Saída\"} às ${moment(data.movement.movementDate).format(\"DD-MM-YYYY HH:mm\")}`;\r\n\r\n      this.changeRef.detectChanges();\r\n    }, error => {\r\n      console.error('[ACCESS]', error);\r\n    });\r\n  }\r\n}\r\n"],"sourceRoot":""}